# This config was automatically generated from your source code
# Stacks detected: deps:python:.,file:manage.py:eCommerceWebsite
version: 2.1
#orbs:
 # python: circleci/python@2.1.1
jobs:
  build:
    docker:
      - image: circleci/python:3.9
  #test-python:
  #  executor: python/default
    #working_directory: ~/eCommerceWebsite/eCommerceWebsite
    # Install dependencies and run tests
  #  docker:
  #    - image: cimg/base:stable
    steps:
      - checkout
      #- python/install-packages:
      #    pkg-manager: pip
      #- run:
      - persist_to_workspace:
          root: eCommerceWebsite/eCommerceWebsite
          paths: eCommerceWebsite/eCommerceWebsite
      - run:
          name: Install dependencies
          command: pip install -r requirements.txt
      #- python/install-packages
      - run:
      
          name: Run tests
          command: python manage.py test eCommerceWebsite
      
      
  #deploy:
    # This is an example deploy job, not actually used by the workflow
  #  docker:
  #    - image: cimg/base:stable
  #  steps:
      # Replace this with steps to deploy to users
  #    - run:
  #        name: deploy
  #        command: '#e.g. ./deploy.sh'
workflows:
  build:
    jobs:
      #- test-python
      - build
    # - deploy:
    #     requires:
    #       - test-python


